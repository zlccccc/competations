题目定位：咕咕咕

首先考虑普通的上升子序列之和怎么做。假设原数列是 $A$, 考虑 $dp[i]$ 代表以 $i$ 这个位置结尾的子序列个数，那么很容易列出 $dp[i]=\sum_{j \lt i} dp[j] [A[j]\lt A[i]]$ ，这应该是个经典题。如果知道了这个关系，那么在线用一个树形结构维护 $A[j]$ 的 $dp$ 值，就可以在 $O(nlogn)​$ 的时间复杂度内求出上升子序列长度之和的答案。数字个数起到的作用仅有乘个系数而已。

在此基础上考虑次方和该怎么求。对于 $k$ 次方来说，假设某个序列的最末尾数字是 $A[i]$ ，而且序列长度为 $l+1$ ，那么我们可以通过 $(l+1)^k = \sum_i C_k^i * l^i$ 来从前方获得答案。也就是说，我们通过一个树状数组或其他的树形结构维护到 $i$ 这个位置为止，以 $i$ 结尾的 $0$ 次到 $k$ 次方和，就可以通过 $dp[i][l]=\sum_{j \lt i} [A[j]\lt A[i]] \sum_k^l C_l^k * dp[j] [k]$ 来获得答案。同样，数字个数起到的作用仅有乘个系数而已

其中$[A[j]<A[i]]​$ 是当且仅当里面等式成立的意思。这个辣鸡数据结构貌似并没有太多细节坑点。

复杂度 $O(nklogn + nk^2)$

思考题：如果题面变成 "求不下降子序列 $k​$ 次方和" 该怎么求呢？数据范围可以不变。(本来想出这个，然后想到要降低难度就降了一点难度) 

